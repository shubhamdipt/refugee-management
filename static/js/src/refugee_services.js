var loading=$("#loading"),transfer_page=1,transfers_table=$("#transfers-table"),transfers_tbody=$("#transfers-tbody"),transfer_details_tbody=$("#transfer-details-tbody");function get_transfers(){var r="";transfers_tbody.html(r),loading.show(),transfers_table.hide(),$.get("/refugee/api/get-transfers").done(function(t){for(var e=0;e<t.results.length;e++)r+="<tr><td>"+t.results[e].departure_time+"</td><td>"+t.results[e].seats+"</td><td><a href='#' class='reservation-details' data-reservation-id='"+t.results[e].id+"'>"+t.results[e].route+"</a></td><td><a class='delete-confirmation' href='/refugee/delete-transfer-reservation/"+t.results[e].id+"' data-confirm='Are you sure you want to delete?'><i class='fa fa-times-circle grey'></i></a></td></tr>";""===r&&(r="<tr><td colspan=4>No results found</td></tr>"),transfers_tbody.append(r),transfers_table.show(),loading.hide()})}function get_transfer_reervation_details(t){transfer_details_tbody.html("");var r="";$.get("/refugee/api/get-transfer-reservation-details/"+t).done(function(t){for(var e=0;e<t.details.length;e++)r+="<tr><td>"+(e+1)+"</td><td>"+t.details[e].departure_date_string+"</td><td>"+t.details[e].city__name+"</td><td>"+t.details[e].address+"</td></tr>";transfer_details_tbody.append(r),$("#transferDetailsModal").modal("show")})}$(function(){get_transfers()}),$(document).on("click",".reservation-details",function(t){t.preventDefault(),get_transfer_reervation_details($(this).attr("data-reservation-id"))});